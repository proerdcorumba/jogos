<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PROERD - Programa Educacional de Resistência às Drogas e à Violência</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #87CEEB 0%, #98FB98 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: manipulation;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            max-width: 1000px;
            width: 95%;
            padding: 20px;
            text-align: center;
            max-height: 90vh;
            overflow-y: auto;
        }

        .header {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1em;
            opacity: 0.9;
        }

        .developer-info {
            background: linear-gradient(45deg, #2C3E50, #34495E);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 0.9em;
        }

        .game-screen {
            display: none;
        }

        .game-screen.active {
            display: block;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .nav-btn {
            background: linear-gradient(45deg, #3498DB, #2980B9);
            color: white;
            border: none;
            border-radius: 15px;
            padding: 12px 20px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .nav-btn:hover {
            transform: scale(1.05);
        }

        .nav-btn.active {
            background: linear-gradient(45deg, #E74C3C, #C0392B);
        }

        .lion-character {
            font-size: 3em;
            margin: 15px 0;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }

        .name-input {
            background: #F0F8FF;
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .name-input input {
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #4ECDC4;
            border-radius: 10px;
            width: 300px;
            max-width: 100%;
            text-align: center;
        }

        .phase-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .phase-card {
            background: linear-gradient(45deg, #FF9A9E, #FECFEF);
            border: none;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .phase-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .phase-card h3 {
            margin-bottom: 10px;
            color: #333;
        }

        .phase-card p {
            font-size: 0.9em;
            color: #666;
        }

        .start-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            color: white;
            border: none;
            border-radius: 30px;
            padding: 15px 30px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px 10px;
        }

        .start-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        /* Jogo 3D Styles */
        .game-3d-container {
            background: linear-gradient(to bottom, #87CEEB, #98FB98);
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            width: 100%;
            height: 400px;
            position: relative;
            overflow: hidden;
            margin: 20px 0;
            perspective: 1000px;
        }

        .lion-3d {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%) rotateY(0deg);
            font-size: 3em;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .obstacle-3d {
            position: absolute;
            bottom: 50px;
            font-size: 2.5em;
            animation: move3D 4s linear infinite;
        }

        .collectible-3d {
            position: absolute;
            bottom: 100px;
            font-size: 2em;
            animation: move3D 5s linear infinite;
        }

        @keyframes move3D {
            from { 
                transform: translateZ(0px) translateX(0px);
                right: -100px;
            }
            to { 
                transform: translateZ(200px) translateX(0px);
                right: 100%;
            }
        }

        .touch-controls {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            grid-template-rows: 1fr 1fr 1fr;
            gap: 10px;
            max-width: 300px;
            margin: 20px auto;
            height: 200px;
        }

        .touch-btn {
            background: linear-gradient(45deg, #3498DB, #2980B9);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            -webkit-user-select: none;
            -webkit-touch-callout: none;
        }

        .touch-btn:active {
            transform: scale(0.95);
            background: linear-gradient(45deg, #2980B9, #1F618D);
        }

        .touch-btn.jump {
            grid-column: 2;
            grid-row: 1;
        }

        .touch-btn.left {
            grid-column: 1;
            grid-row: 2;
        }

        .touch-btn.right {
            grid-column: 3;
            grid-row: 2;
        }

        .touch-btn.duck {
            grid-column: 2;
            grid-row: 3;
        }

        .touch-btn.action {
            grid-column: 1;
            grid-row: 1;
        }

        .touch-btn.pause {
            grid-column: 3;
            grid-row: 1;
        }

        /* Admin Styles */
        .admin-login {
            background: #F0F8FF;
            border: 3px solid #E74C3C;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .admin-panel {
            background: #F8F9FA;
            border: 2px solid #6C757D;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .admin-section {
            background: white;
            border: 1px solid #DEE2E6;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }

        .form-group {
            margin: 15px 0;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input, .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 2px solid #CED4DA;
            border-radius: 5px;
            font-size: 1em;
        }

        .form-group textarea {
            height: 100px;
            resize: vertical;
        }

        .btn-admin {
            background: linear-gradient(45deg, #28A745, #20C997);
            color: white;
            border: none;
            border-radius: 10px;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            margin: 5px;
        }

        .btn-danger {
            background: linear-gradient(45deg, #DC3545, #C82333);
        }

        .partner-card {
            background: white;
            border: 2px solid #DEE2E6;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .partner-logo {
            width: 80px;
            height: 80px;
            object-fit: contain;
            border-radius: 10px;
        }

        .about-content {
            background: #F0F8FF;
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            text-align: left;
            line-height: 1.6;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .game-card {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .game-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .quiz-game {
            background: #F0F8FF;
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .memory-game {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #FF9A9E, #FECFEF);
            border: none;
            border-radius: 10px;
            font-size: 2em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .memory-card.flipped {
            background: linear-gradient(45deg, #4ECDC4, #44A08D);
        }

        .scenario-game {
            background: #F0F8FF;
            border: 3px solid #4ECDC4;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
        }

        .scenario-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }

        .scenario-btn {
            background: linear-gradient(45deg, #FF9A9E, #FECFEF);
            border: none;
            border-radius: 15px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .scenario-btn:hover {
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            .game-container {
                padding: 15px;
                width: 98%;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .lion-character {
                font-size: 2.5em;
            }

            .navigation {
                flex-direction: column;
                align-items: center;
            }

            .nav-btn {
                width: 200px;
            }

            .phase-selector {
                grid-template-columns: 1fr;
            }

            .touch-controls {
                max-width: 250px;
                height: 150px;
            }

            .touch-btn {
                font-size: 1.2em;
            }

            .games-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Navegação Principal -->
        <div class="navigation">
            <button class="nav-btn active" onclick="showScreen('home')">🏠 Início</button>
            <button class="nav-btn" onclick="showScreen('phases')">🎮 Fases</button>
            <button class="nav-btn" onclick="showScreen('games')">🎯 Jogos</button>
            <button class="nav-btn" onclick="showScreen('about')">📚 Sobre PROERD</button>
            <button class="nav-btn" onclick="showScreen('partners')">🤝 Parceiros</button>
            <button class="nav-btn" onclick="showScreen('battalion')">🏛️ 6º BPM</button>
            <button class="nav-btn" onclick="showScreen('admin-login')">👨‍💼 Admin</button>
        </div>

        <!-- Tela Inicial -->
        <div id="home" class="game-screen active">
            <div class="header">
                <h1>🦁 PROERD - Sistema Educacional 🦁</h1>
                <p>Programa Educacional de Resistência às Drogas e à Violência</p>
            </div>
            
            <div class="developer-info">
                <p><strong>Desenvolvido por:</strong> Wellington Oliveira</p>
                <p><strong>6º Batalhão de Polícia Militar de Mato Grosso do Sul</strong></p>
                <p>Programa Educacional de Resistência às Drogas e à Violência</p>
            </div>
            
            <div class="lion-character">🦁</div>
            
            <div class="name-input">
                <h2>Bem-vindo, jovem herói!</h2>
                <p>Digite seu nome para começar a aventura:</p>
                <br>
                <input type="text" id="player-name" placeholder="Seu nome aqui..." maxlength="20">
                <br><br>
                <button class="start-btn" onclick="setPlayerName()">🎮 Começar Aventura</button>
            </div>
        </div>

        <!-- Seleção de Fases -->
        <div id="phases" class="game-screen">
            <div class="header">
                <h1>🎯 Escolha sua Fase</h1>
                <p>Selecione qual desafio você quer enfrentar!</p>
            </div>
            
            <div class="phase-selector">
                <div class="phase-card" onclick="startPhase(1)">
                    <h3>🎯 Fase 1</h3>
                    <p>Verdadeiro ou Falso</p>
                    <p>10 questões - 45s cada</p>
                </div>
                <div class="phase-card" onclick="startPhase(2)">
                    <h3>🎯 Fase 2</h3>
                    <p>3 Opções</p>
                    <p>15 questões - 45s cada</p>
                </div>
                <div class="phase-card" onclick="startPhase(3)">
                    <h3>🎯 Fase 3</h3>
                    <p>4 Opções</p>
                    <p>15 questões - 45s cada</p>
                </div>
                <div class="phase-card" onclick="startPhase(4)">
                    <h3>🎯 Fase 4</h3>
                    <p>5 Opções</p>
                    <p>15 questões - 45s cada</p>
                </div>
                <div class="phase-card" onclick="startPhase(5)">
                    <h3>🎯 Fase 5</h3>
                    <p>Desafio Final</p>
                    <p>15 questões - 45s cada</p>
                </div>
                <div class="phase-card" onclick="startGame2D()">
                    <h3>🎮 Jogo 2D</h3>
                    <p>Leão Corajoso</p>
                    <p>Ação e Aventura</p>
                </div>
                <div class="phase-card" onclick="startGame3D()">
                    <h3>🌟 Jogo 3D</h3>
                    <p>Leão PROERD 3D</p>
                    <p>Obstáculos em 3D</p>
                </div>
            </div>
        </div>

        <!-- Jogos Extras -->
        <div id="games" class="game-screen">
            <div class="header">
                <h1>🎮 Jogos Educativos PROERD</h1>
                <p>Aprenda brincando com diversos jogos!</p>
            </div>
            
            <div class="games-grid">
                <div class="game-card" onclick="startMemoryGame()">
                    <h3>🧠 Jogo da Memória</h3>
                    <p>Encontre os pares dos símbolos do PROERD</p>
                </div>
                <div class="game-card" onclick="startQuizGame()">
                    <h3>❓ Quiz Rápido</h3>
                    <p>Perguntas rápidas sobre prevenção</p>
                </div>
                <div class="game-card" onclick="startScenarioGame()">
                    <h3>🎭 Situações Reais</h3>
                    <p>Como você reagiria em situações de risco?</p>
                </div>
                <div class="game-card" onclick="startWordGame()">
                    <h3>📝 Caça-Palavras</h3>
                    <p>Encontre palavras relacionadas ao PROERD</p>
                </div>
                <div class="game-card" onclick="startPuzzleGame()">
                    <h3>🧩 Quebra-Cabeça</h3>
                    <p>Monte a imagem do Leão PROERD</p>
                </div>
                <div class="game-card" onclick="startRhymeGame()">
                    <h3>🎵 Rimas do PROERD</h3>
                    <p>Complete as rimas educativas</p>
                </div>
            </div>
        </div>

        <!-- Sobre o PROERD -->
        <div id="about" class="game-screen">
            <div class="header">
                <h1>📚 Sobre o PROERD</h1>
                <p>Conheça nosso programa educacional</p>
            </div>
            
            <div class="about-content" id="about-content">
                <h2>🦁 Programa Educacional de Resistência às Drogas e à Violência</h2>
                
                <h3>📖 O que é o PROERD?</h3>
                <p>O PROERD é um programa educacional desenvolvido pela Polícia Militar que visa prevenir o uso de drogas e a violência entre crianças e adolescentes. Através de atividades interativas, jogos e discussões, o programa ensina habilidades de resistência e tomada de decisões saudáveis.</p>
                
                <h3>🎯 Objetivos</h3>
                <ul>
                    <li>Prevenir o uso de drogas lícitas e ilícitas</li>
                    <li>Combater a violência entre jovens</li>
                    <li>Desenvolver habilidades de resistência à pressão</li>
                    <li>Promover a autoestima e autoconfiança</li>
                    <li>Fortalecer vínculos familiares e comunitários</li>
                </ul>
                
                <h3>🌟 Metodologia</h3>
                <p>O programa utiliza metodologia interativa, com atividades lúdicas, discussões em grupo, jogos educativos e situações práticas que preparam os jovens para enfrentar situações de risco no dia a dia.</p>
                
                <h3>👮‍♂️ Instrutores</h3>
                <p>Os instrutores do PROERD são policiais militares especialmente treinados e capacitados para trabalhar com crianças e adolescentes, utilizando técnicas pedagógicas modernas e eficazes.</p>
                
                <h3>🏆 Resultados</h3>
                <p>O PROERD tem demonstrado resultados positivos na prevenção ao uso de drogas e redução da violência, contribuindo para a formação de cidadãos mais conscientes e preparados para fazer escolhas saudáveis.</p>
            </div>
        </div>

        <!-- Parceiros -->
        <div id="partners" class="game-screen">
            <div class="header">
                <h1>🤝 Nossos Parceiros</h1>
                <p>Juntos na missão de educar e proteger</p>
            </div>
            
            <div id="partners-list">
                <div class="partner-card">
                    <div class="partner-logo">
                        <img src="https://via.placeholder.com/80x80/4ECDC4/FFFFFF?text=LHG" alt="LHG Mining" class="partner-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; width: 80px; height: 80px; background: #4ECDC4; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">LHG</div>
                    </div>
                    <div>
                        <h3>LHG Mining Corumbá</h3>
                        <p>Empresa parceira no desenvolvimento sustentável e responsabilidade social em Corumbá.</p>
                        <a href="https://lhgmining.com.br/" target="_blank" style="color: #4ECDC4; text-decoration: none;">🌐 lhgmining.com.br</a>
                    </div>
                </div>
                <div class="partner-card">
                    <div class="partner-logo">
                        <img src="https://via.placeholder.com/80x80/00A859/FFFFFF?text=SICREDI" alt="Sicredi" class="partner-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; width: 80px; height: 80px; background: #00A859; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 0.8em;">SICREDI</div>
                    </div>
                    <div>
                        <h3>Sicredi - Agência de Corumbá</h3>
                        <p>Cooperativa de crédito comprometida com o desenvolvimento da comunidade local.</p>
                        <a href="https://www.sicredi.com.br" target="_blank" style="color: #00A859; text-decoration: none;">🌐 sicredi.com.br</a>
                    </div>
                </div>
                <div class="partner-card">
                    <div class="partner-logo">
                        <img src="https://via.placeholder.com/80x80/1E3A8A/FFFFFF?text=PMC" alt="Prefeitura de Corumbá" class="partner-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; width: 80px; height: 80px; background: #1E3A8A; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">PMC</div>
                    </div>
                    <div>
                        <h3>Prefeitura Municipal de Corumbá</h3>
                        <p>Governo municipal parceiro na implementação de políticas públicas de prevenção.</p>
                        <a href="https://corumba.ms.gov.br/" target="_blank" style="color: #1E3A8A; text-decoration: none;">🌐 corumba.ms.gov.br</a>
                    </div>
                </div>
                <div class="partner-card">
                    <div class="partner-logo">
                        <img src="https://via.placeholder.com/80x80/059669/FFFFFF?text=PML" alt="Prefeitura de Ladário" class="partner-logo" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                        <div style="display: none; width: 80px; height: 80px; background: #059669; border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">PML</div>
                    </div>
                    <div>
                        <h3>Prefeitura Municipal de Ladário</h3>
                        <p>Parceria estratégica para expansão do PROERD na região metropolitana.</p>
                        <a href="https://www.ladario.ms.gov.br/" target="_blank" style="color: #059669; text-decoration: none;">🌐 ladario.ms.gov.br</a>
                    </div>
                </div>
                <div id="custom-partners-list"></div>
            </div>
        </div>

        <!-- 6º Batalhão -->
        <div id="battalion" class="game-screen">
            <div class="header">
                <h1>🏛️ 6º Batalhão de Polícia Militar</h1>
                <p>Mato Grosso do Sul - Corumbá</p>
            </div>
            
            <div class="about-content" id="battalion-content">
                <div style="text-align: center; margin-bottom: 20px;">
                    <div id="battalion-logo-display" style="width: 120px; height: 120px; margin: 0 auto 15px; background: linear-gradient(45deg, #2C3E50, #34495E); border-radius: 15px; display: flex; align-items: center; justify-content: center; color: white; font-size: 2em;">🏛️</div>
                </div>
                
                <h2>🏛️ 6º Batalhão de Polícia Militar de Mato Grosso do Sul</h2>
                
                <h3>📍 Localização</h3>
                <p>Sediado em Corumbá, o 6º BPM/MS atende uma das regiões mais estratégicas do estado, fazendo fronteira com a Bolívia e sendo porta de entrada do Pantanal.</p>
                
                <h3>🎯 Missão</h3>
                <p>Garantir a segurança pública, a ordem e a tranquilidade da população de Corumbá e região, através de ações preventivas e repressivas qualificadas, sempre pautadas nos princípios da legalidade, eficiência e respeito aos direitos humanos.</p>
                
                <h3>🌟 Área de Atuação</h3>
                <ul>
                    <li>Policiamento ostensivo preventivo</li>
                    <li>Segurança comunitária</li>
                    <li>Programas educacionais (PROERD)</li>
                    <li>Policiamento de fronteira</li>
                    <li>Proteção ambiental do Pantanal</li>
                    <li>Apoio ao turismo regional</li>
                </ul>
                
                <h3>👮‍♂️ Programas Sociais</h3>
                <p>O 6º BPM desenvolve diversos programas sociais, sendo o PROERD um dos principais, levando educação preventiva às escolas de Corumbá e região, formando cidadãos conscientes e preparados para fazer escolhas saudáveis.</p>
                
                <h3>🏆 Compromisso</h3>
                <p>Nosso compromisso é servir e proteger a comunidade com excelência, profissionalismo e dedicação, contribuindo para o desenvolvimento social e econômico da região pantaneira.</p>
                
                <h3>📞 Contato</h3>
                <p><strong>Endereço:</strong> Corumbá - MS<br>
                <strong>Telefone:</strong> (67) 3234-5678<br>
                <strong>Emergência:</strong> 190</p>
            </div>
        </div>

        <!-- Login Admin -->
        <div id="admin-login" class="game-screen">
            <div class="header">
                <h1>👨‍💼 Área Administrativa</h1>
                <p>Acesso restrito para administradores</p>
            </div>
            
            <div class="admin-login">
                <h3>🔐 Login de Administrador</h3>
                <div class="form-group">
                    <label>Email:</label>
                    <input type="email" id="admin-email" placeholder="proerd6bpmms@gmail.com">
                </div>
                <div class="form-group">
                    <label>Senha:</label>
                    <input type="password" id="admin-password" placeholder="Digite sua senha">
                </div>
                <button class="btn-admin" onclick="adminLogin()">🔑 Entrar</button>
            </div>
        </div>

        <!-- Painel Admin -->
        <div id="admin-panel" class="game-screen">
            <div class="header">
                <h1>⚙️ Painel Administrativo</h1>
                <p>Gerenciamento do Sistema PROERD</p>
            </div>
            
            <div class="admin-panel">
                <div class="admin-section">
                    <h3>📝 Editar Sobre o PROERD</h3>
                    <div class="form-group">
                        <label>Conteúdo:</label>
                        <textarea id="about-editor" placeholder="Digite o conteúdo sobre o PROERD..."></textarea>
                    </div>
                    <button class="btn-admin" onclick="updateAbout()">💾 Salvar Alterações</button>
                </div>
                
                <div class="admin-section">
                    <h3>🏛️ Editar Sobre o 6º BPM</h3>
                    <div class="form-group">
                        <label>Logo do Batalhão:</label>
                        <input type="file" id="battalion-logo-file" accept="image/*" onchange="handleBattalionLogoUpload(event)">
                        <small>Formatos aceitos: PNG, JPG, JPEG</small>
                    </div>
                    <div class="form-group">
                        <label>Conteúdo sobre o 6º BPM:</label>
                        <textarea id="battalion-editor" placeholder="Digite o conteúdo sobre o 6º BPM..."></textarea>
                    </div>
                    <button class="btn-admin" onclick="updateBattalion()">💾 Salvar Alterações</button>
                </div>
                
                <div class="admin-section">
                    <h3>👥 Gerenciar Administradores</h3>
                    <div class="form-group">
                        <label>Novo Email:</label>
                        <input type="email" id="new-admin-email" placeholder="email@exemplo.com">
                    </div>
                    <div class="form-group">
                        <label>Nova Senha:</label>
                        <input type="password" id="new-admin-password" placeholder="Digite a senha">
                    </div>
                    <button class="btn-admin" onclick="addAdmin()">➕ Adicionar Admin</button>
                    
                    <div id="admin-list"></div>
                </div>
                
                <div class="admin-section">
                    <h3>🤝 Gerenciar Parceiros Principais</h3>
                    <h4>Atualizar Logos dos Parceiros Principais:</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 10px;">
                            <h5>LHG Mining Corumbá</h5>
                            <input type="file" id="lhg-logo-file" accept="image/*" onchange="handlePartnerLogoUpload(event, 'lhg')">
                            <small>PNG, JPG, JPEG</small>
                        </div>
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 10px;">
                            <h5>Sicredi Corumbá</h5>
                            <input type="file" id="sicredi-logo-file" accept="image/*" onchange="handlePartnerLogoUpload(event, 'sicredi')">
                            <small>PNG, JPG, JPEG</small>
                        </div>
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 10px;">
                            <h5>Prefeitura de Corumbá</h5>
                            <input type="file" id="corumba-logo-file" accept="image/*" onchange="handlePartnerLogoUpload(event, 'corumba')">
                            <small>PNG, JPG, JPEG</small>
                        </div>
                        <div style="border: 1px solid #ddd; padding: 15px; border-radius: 10px;">
                            <h5>Prefeitura de Ladário</h5>
                            <input type="file" id="ladario-logo-file" accept="image/*" onchange="handlePartnerLogoUpload(event, 'ladario')">
                            <small>PNG, JPG, JPEG</small>
                        </div>
                    </div>
                    
                    <h4>Adicionar Outros Parceiros:</h4>
                    <div class="form-group">
                        <label>Nome do Parceiro:</label>
                        <input type="text" id="partner-name" placeholder="Nome da organização">
                    </div>
                    <div class="form-group">
                        <label>Descrição:</label>
                        <textarea id="partner-description" placeholder="Descrição da parceria..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>Website (opcional):</label>
                        <input type="url" id="partner-website" placeholder="https://exemplo.com">
                    </div>
                    <div class="form-group">
                        <label>Logo:</label>
                        <input type="file" id="partner-logo-file" accept="image/*" onchange="handleCustomPartnerLogoUpload(event)">
                        <small>PNG, JPG, JPEG</small>
                    </div>
                    <button class="btn-admin" onclick="addCustomPartner()">➕ Adicionar Parceiro</button>
                    
                    <div id="partners-admin-list"></div>
                </div>
                
                <div class="admin-section">
                    <h3>🖼️ Logos do Sistema</h3>
                    <div class="form-group">
                        <label>Logo PROERD (URL):</label>
                        <input type="url" id="proerd-logo" placeholder="https://exemplo.com/proerd-logo.png">
                    </div>
                    <div class="form-group">
                        <label>Logo Polícia Militar (URL):</label>
                        <input type="url" id="pm-logo" placeholder="https://exemplo.com/pm-logo.png">
                    </div>
                    <button class="btn-admin" onclick="updateLogos()">🖼️ Atualizar Logos</button>
                </div>
                
                <button class="btn-admin btn-danger" onclick="adminLogout()">🚪 Sair</button>
            </div>
        </div>

        <!-- Jogo 3D -->
        <div id="game-3d-screen" class="game-screen">
            <div class="header">
                <h1>🌟 Leão PROERD 3D</h1>
                <p>Aventura tridimensional de prevenção!</p>
            </div>
            
            <div class="game-info">
                <div>Pontos: <span id="game-3d-score">0</span></div>
                <div>Tempo: <span id="game-3d-timer">90</span>s</div>
                <div>Vidas: <span id="game-3d-lives">3</span></div>
            </div>
            
            <div class="game-3d-container" id="game-3d-container">
                <div class="lion-3d" id="lion-3d">🦁</div>
            </div>
            
            <div class="touch-controls">
                <button class="touch-btn action" ontouchstart="specialAction()" ontouchend="">🛡️</button>
                <button class="touch-btn jump" ontouchstart="jump3D()" ontouchend="">⬆️</button>
                <button class="touch-btn pause" ontouchstart="pauseGame3D()" ontouchend="">⏸️</button>
                <button class="touch-btn left" ontouchstart="startMove3D('left')" ontouchend="stopMove3D()">⬅️</button>
                <button class="touch-btn" style="visibility: hidden;"></button>
                <button class="touch-btn right" ontouchstart="startMove3D('right')" ontouchend="stopMove3D()">➡️</button>
                <button class="touch-btn" style="visibility: hidden;"></button>
                <button class="touch-btn duck" ontouchstart="duck3D()" ontouchend="">⬇️</button>
                <button class="touch-btn" style="visibility: hidden;"></button>
            </div>
            
            <div class="scenario">
                <p><strong>Missão 3D:</strong> Navegue pelo mundo 3D coletando medalhas PROERD (🏅) e evitando obstáculos!</p>
                <p>🏅 Medalha = +150 pontos | ☠️ Obstáculo = -1 vida | 🛡️ Escudo especial</p>
            </div>
            
            <button class="start-btn" onclick="showScreen('phases')">🔙 Voltar às Fases</button>
        </div>

        <!-- Jogo da Memória -->
        <div id="memory-game-screen" class="game-screen">
            <div class="header">
                <h1>🧠 Jogo da Memória PROERD</h1>
                <p>Encontre os pares dos símbolos!</p>
            </div>
            
            <div class="game-info">
                <div>Pontos: <span id="memory-score">0</span></div>
                <div>Tentativas: <span id="memory-attempts">0</span></div>
                <div>Pares: <span id="memory-pairs">0</span>/8</div>
            </div>
            
            <div class="memory-game" id="memory-board"></div>
            
            <button class="start-btn" onclick="resetMemoryGame()">🔄 Novo Jogo</button>
            <button class="start-btn" onclick="showScreen('games')">🔙 Voltar aos Jogos</button>
        </div>

        <!-- Quiz Rápido -->
        <div id="quiz-game-screen" class="game-screen">
            <div class="header">
                <h1>❓ Quiz Rápido PROERD</h1>
                <p>Teste seus conhecimentos!</p>
            </div>
            
            <div class="quiz-game" id="quiz-container">
                <div id="quiz-question"></div>
                <div id="quiz-options"></div>
                <div id="quiz-feedback" style="display: none;"></div>
            </div>
            
            <div class="game-info">
                <div>Questão: <span id="quiz-current">1</span>/10</div>
                <div>Pontos: <span id="quiz-score">0</span></div>
                <div>Acertos: <span id="quiz-correct">0</span></div>
            </div>
            
            <button class="start-btn" onclick="showScreen('games')">🔙 Voltar aos Jogos</button>
        </div>

        <!-- Situações Reais -->
        <div id="scenario-game-screen" class="game-screen">
            <div class="header">
                <h1>🎭 Situações Reais</h1>
                <p>Como você reagiria?</p>
            </div>
            
            <div class="scenario-game" id="scenario-container">
                <div id="scenario-situation"></div>
                <div class="scenario-options" id="scenario-options"></div>
                <div id="scenario-feedback" style="display: none;"></div>
            </div>
            
            <button class="start-btn" onclick="showScreen('games')">🔙 Voltar aos Jogos</button>
        </div>
    </div>

    <script>
        // Variáveis globais
        let currentPhase = 1;
        let currentQuestion = 0;
        let totalScore = 0;
        let playerName = '';
        let timeLeft = 45;
        let timerInterval;
        let startTime;
        let isLoggedIn = false;
        
        // Jogo 3D variables
        let game3DScore = 0;
        let game3DTimer = 90;
        let game3DLives = 3;
        let game3DInterval;
        let obstacle3DInterval;
        let collectible3DInterval;
        let lion3DPosition = { x: 0, y: 50, z: 0, jumping: false, ducking: false };
        let move3DInterval;
        let move3DDirection = '';
        let game3DPaused = false;

        // Memory Game variables
        let memoryCards = [];
        let flippedCards = [];
        let memoryScore = 0;
        let memoryAttempts = 0;
        let memoryPairs = 0;

        // Quiz variables
        let quizQuestions = [];
        let currentQuizQuestion = 0;
        let quizScore = 0;
        let quizCorrect = 0;

        // Dados do sistema
        let systemData = {
            admins: [
                { email: 'proerd6bpmms@gmail.com', password: '6bpm@102010' }
            ],
            aboutContent: '',
            battalionContent: '',
            battalionLogo: '',
            partners: [],
            partnerLogos: {
                lhg: '',
                sicredi: '',
                corumba: '',
                ladario: ''
            },
            customPartners: [],
            logos: {
                proerd: '',
                pm: ''
            }
        };

        // Carregar dados salvos
        function loadSystemData() {
            const saved = localStorage.getItem('proerdSystemData');
            if (saved) {
                systemData = { ...systemData, ...JSON.parse(saved) };
            }
            updateAboutDisplay();
            updateBattalionDisplay();
            updatePartnersDisplay();
        }

        // Salvar dados
        function saveSystemData() {
            localStorage.setItem('proerdSystemData', JSON.stringify(systemData));
        }

        // Navegação
        function showScreen(screenId) {
            document.querySelectorAll('.game-screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(screenId).classList.add('active');
            event.target.classList.add('active');
        }

        // Configurar nome do jogador
        function setPlayerName() {
            const nameInput = document.getElementById('player-name');
            playerName = nameInput.value.trim();
            
            if (playerName === '') {
                alert('Por favor, digite seu nome!');
                return;
            }
            
            showScreen('phases');
        }

        // Iniciar fase específica
        function startPhase(phase) {
            if (!playerName) {
                alert('Por favor, digite seu nome primeiro!');
                showScreen('home');
                return;
            }
            
            currentPhase = phase;
            currentQuestion = 0;
            totalScore = 0;
            // Implementar lógica das fases aqui
            alert(`Iniciando Fase ${phase}! (Em desenvolvimento)`);
        }

        // Jogo 3D
        function startGame3D() {
            if (!playerName) {
                alert('Por favor, digite seu nome primeiro!');
                showScreen('home');
                return;
            }
            
            showScreen('game-3d-screen');
            initGame3D();
        }

        function initGame3D() {
            game3DScore = 0;
            game3DTimer = 90;
            game3DLives = 3;
            game3DPaused = false;
            lion3DPosition = { x: 0, y: 50, z: 0, jumping: false, ducking: false };
            
            updateGame3DDisplay();
            
            // Timer do jogo
            game3DInterval = setInterval(() => {
                if (!game3DPaused) {
                    game3DTimer--;
                    updateGame3DDisplay();
                    
                    if (game3DTimer <= 0 || game3DLives <= 0) {
                        endGame3D();
                    }
                }
            }, 1000);
            
            // Spawn de obstáculos e coletáveis
            obstacle3DInterval = setInterval(() => {
                if (!game3DPaused) spawnObstacle3D();
            }, 2500);
            
            collectible3DInterval = setInterval(() => {
                if (!game3DPaused) spawnCollectible3D();
            }, 3500);
        }

        function updateGame3DDisplay() {
            document.getElementById('game-3d-score').textContent = game3DScore;
            document.getElementById('game-3d-timer').textContent = game3DTimer;
            document.getElementById('game-3d-lives').textContent = game3DLives;
        }

        function spawnObstacle3D() {
            const container = document.getElementById('game-3d-container');
            const obstacle = document.createElement('div');
            obstacle.className = 'obstacle-3d';
            obstacle.textContent = '☠️';
            obstacle.style.right = '-100px';
            obstacle.style.bottom = Math.random() > 0.5 ? '50px' : '100px';
            
            container.appendChild(obstacle);
            
            setTimeout(() => {
                if (obstacle.parentNode) {
                    obstacle.remove();
                }
            }, 4000);
        }

        function spawnCollectible3D() {
            const container = document.getElementById('game-3d-container');
            const collectible = document.createElement('div');
            collectible.className = 'collectible-3d';
            collectible.textContent = '🏅';
            collectible.style.right = '-100px';
            collectible.style.bottom = Math.random() * 200 + 50 + 'px';
            
            container.appendChild(collectible);
            
            setTimeout(() => {
                if (collectible.parentNode) {
                    collectible.remove();
                }
            }, 5000);
        }

        function startMove3D(direction) {
            move3DDirection = direction;
            move3DInterval = setInterval(() => {
                const lion = document.getElementById('lion-3d');
                if (direction === 'left' && lion3DPosition.x > -200) {
                    lion3DPosition.x -= 10;
                    lion.style.transform = `translateX(calc(-50% + ${lion3DPosition.x}px)) rotateY(-20deg)`;
                } else if (direction === 'right' && lion3DPosition.x < 200) {
                    lion3DPosition.x += 10;
                    lion.style.transform = `translateX(calc(-50% + ${lion3DPosition.x}px)) rotateY(20deg)`;
                }
            }, 50);
        }

        function stopMove3D() {
            clearInterval(move3DInterval);
            const lion = document.getElementById('lion-3d');
            lion.style.transform = `translateX(calc(-50% + ${lion3DPosition.x}px)) rotateY(0deg)`;
        }

        function jump3D() {
            if (!lion3DPosition.jumping) {
                lion3DPosition.jumping = true;
                const lion = document.getElementById('lion-3d');
                lion.style.bottom = '150px';
                lion.style.transform += ' scale(1.2)';
                
                setTimeout(() => {
                    lion.style.bottom = '50px';
                    lion.style.transform = lion.style.transform.replace(' scale(1.2)', '');
                    lion3DPosition.jumping = false;
                }, 800);
            }
        }

        function duck3D() {
            if (!lion3DPosition.ducking) {
                lion3DPosition.ducking = true;
                const lion = document.getElementById('lion-3d');
                lion.style.bottom = '20px';
                lion.style.transform += ' scale(0.8)';
                
                setTimeout(() => {
                    lion.style.bottom = '50px';
                    lion.style.transform = lion.style.transform.replace(' scale(0.8)', '');
                    lion3DPosition.ducking = false;
                }, 1000);
            }
        }

        function specialAction() {
            game3DScore += 50;
            updateGame3DDisplay();
            
            // Efeito visual
            const lion = document.getElementById('lion-3d');
            lion.style.filter = 'brightness(1.5) drop-shadow(0 0 20px gold)';
            setTimeout(() => {
                lion.style.filter = '';
            }, 500);
        }

        function pauseGame3D() {
            game3DPaused = !game3DPaused;
            const btn = event.target;
            btn.textContent = game3DPaused ? '▶️' : '⏸️';
        }

        function endGame3D() {
            clearInterval(game3DInterval);
            clearInterval(obstacle3DInterval);
            clearInterval(collectible3DInterval);
            
            totalScore += game3DScore;
            alert(`Jogo 3D finalizado! Pontuação: ${game3DScore} pontos`);
        }

        // Jogo da Memória
        function startMemoryGame() {
            showScreen('memory-game-screen');
            initMemoryGame();
        }

        function initMemoryGame() {
            const symbols = ['🦁', '🛡️', '🏅', '📚', '🎯', '🌟', '💪', '🏆'];
            const cards = [...symbols, ...symbols];
            cards.sort(() => Math.random() - 0.5);
            
            memoryCards = cards;
            flippedCards = [];
            memoryScore = 0;
            memoryAttempts = 0;
            memoryPairs = 0;
            
            const board = document.getElementById('memory-board');
            board.innerHTML = '';
            
            cards.forEach((symbol, index) => {
                const card = document.createElement('button');
                card.className = 'memory-card';
                card.textContent = '❓';
                card.onclick = () => flipCard(index);
                board.appendChild(card);
            });
            
            updateMemoryDisplay();
        }

        function flipCard(index) {
            if (flippedCards.length >= 2 || flippedCards.includes(index)) return;
            
            const cards = document.querySelectorAll('.memory-card');
            cards[index].textContent = memoryCards[index];
            cards[index].classList.add('flipped');
            flippedCards.push(index);
            
            if (flippedCards.length === 2) {
                memoryAttempts++;
                setTimeout(checkMatch, 1000);
            }
        }

        function checkMatch() {
            const cards = document.querySelectorAll('.memory-card');
            const [first, second] = flippedCards;
            
            if (memoryCards[first] === memoryCards[second]) {
                memoryPairs++;
                memoryScore += 100;
                cards[first].style.background = 'linear-gradient(45deg, #4ECDC4, #44A08D)';
                cards[second].style.background = 'linear-gradient(45deg, #4ECDC4, #44A08D)';
                
                if (memoryPairs === 8) {
                    setTimeout(() => {
                        alert(`Parabéns! Você completou o jogo da memória com ${memoryAttempts} tentativas!`);
                    }, 500);
                }
            } else {
                cards[first].textContent = '❓';
                cards[second].textContent = '❓';
                cards[first].classList.remove('flipped');
                cards[second].classList.remove('flipped');
            }
            
            flippedCards = [];
            updateMemoryDisplay();
        }

        function updateMemoryDisplay() {
            document.getElementById('memory-score').textContent = memoryScore;
            document.getElementById('memory-attempts').textContent = memoryAttempts;
            document.getElementById('memory-pairs').textContent = memoryPairs;
        }

        function resetMemoryGame() {
            initMemoryGame();
        }

        // Quiz Rápido
        function startQuizGame() {
            showScreen('quiz-game-screen');
            initQuizGame();
        }

        function initQuizGame() {
            quizQuestions = [
                {
                    question: "Qual é o significado da sigla PROERD?",
                    options: ["Programa de Resistência", "Programa Educacional de Resistência às Drogas", "Projeto de Educação", "Programa de Prevenção"],
                    correct: 1
                },
                {
                    question: "O que devemos fazer quando alguém oferece drogas?",
                    options: ["Aceitar para não ofender", "Dizer NÃO com firmeza", "Fingir que aceita", "Ignorar a pessoa"],
                    correct: 1
                },
                {
                    question: "Qual é o símbolo do PROERD?",
                    options: ["Águia", "Leão", "Tigre", "Lobo"],
                    correct: 1
                },
                {
                    question: "O bullying é considerado:",
                    options: ["Brincadeira normal", "Forma de violência", "Algo sem importância", "Problema só da vítima"],
                    correct: 1
                },
                {
                    question: "A melhor forma de lidar com problemas é:",
                    options: ["Usar substâncias", "Buscar ajuda", "Guardar para si", "Ignorar"],
                    correct: 1
                },
                {
                    question: "O álcool é considerado:",
                    options: ["Não é droga", "Droga legal", "Inofensivo", "Só para adultos"],
                    correct: 1
                },
                {
                    question: "Verdadeiros amigos:",
                    options: ["Oferecem drogas", "Respeitam suas decisões", "Te pressionam", "Te isolam"],
                    correct: 1
                },
                {
                    question: "O PROERD é desenvolvido por:",
                    options: ["Professores", "Médicos", "Polícia Militar", "Psicólogos"],
                    correct: 2
                },
                {
                    question: "A prevenção às drogas deve começar:",
                    options: ["Na adolescência", "Na infância", "Na idade adulta", "Só quando há problema"],
                    correct: 1
                },
                {
                    question: "O principal objetivo do PROERD é:",
                    options: ["Punir usuários", "Prevenir uso de drogas e violência", "Vender medicamentos", "Fazer propaganda"],
                    correct: 1
                }
            ];
            
            currentQuizQuestion = 0;
            quizScore = 0;
            quizCorrect = 0;
            
            showQuizQuestion();
        }

        function showQuizQuestion() {
            const question = quizQuestions[currentQuizQuestion];
            document.getElementById('quiz-question').innerHTML = `<h3>${question.question}</h3>`;
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'scenario-btn';
                button.textContent = option;
                button.onclick = () => answerQuiz(index);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('quiz-current').textContent = currentQuizQuestion + 1;
            document.getElementById('quiz-score').textContent = quizScore;
            document.getElementById('quiz-correct').textContent = quizCorrect;
            
            document.getElementById('quiz-feedback').style.display = 'none';
        }

        function answerQuiz(answer) {
            const question = quizQuestions[currentQuizQuestion];
            const feedback = document.getElementById('quiz-feedback');
            const buttons = document.querySelectorAll('#quiz-options button');
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === question.correct) {
                quizCorrect++;
                quizScore += 100;
                feedback.innerHTML = "✅ Correto! Muito bem!";
                feedback.style.background = '#d4edda';
                feedback.style.color = '#155724';
            } else {
                feedback.innerHTML = `❌ Incorreto. A resposta correta é: ${question.options[question.correct]}`;
                feedback.style.background = '#f8d7da';
                feedback.style.color = '#721c24';
            }
            
            feedback.style.display = 'block';
            
            setTimeout(() => {
                currentQuizQuestion++;
                if (currentQuizQuestion < quizQuestions.length) {
                    showQuizQuestion();
                } else {
                    showQuizResults();
                }
            }, 2000);
        }

        function showQuizResults() {
            const percentage = (quizCorrect / quizQuestions.length) * 100;
            let message = `Quiz finalizado!\n\nAcertos: ${quizCorrect}/${quizQuestions.length}\nPontuação: ${quizScore}\nPercentual: ${percentage.toFixed(1)}%\n\n`;
            
            if (percentage >= 80) {
                message += "🏆 Excelente! Você domina os conceitos do PROERD!";
            } else if (percentage >= 60) {
                message += "👏 Muito bem! Continue estudando!";
            } else {
                message += "📚 Continue praticando para melhorar!";
            }
            
            alert(message);
        }

        // Situações Reais
        function startScenarioGame() {
            showScreen('scenario-game-screen');
            initScenarioGame();
        }

        function initScenarioGame() {
            const scenarios = [
                {
                    situation: "Você está em uma festa e um colega oferece uma bebida alcoólica, dizendo que 'todo mundo está bebendo' e que você 'não vai ser aceito' se não beber. O que você faz?",
                    options: [
                        "Aceito para não parecer diferente",
                        "Digo NÃO com firmeza e sugiro outras atividades",
                        "Finjo que bebo mas não bebo",
                        "Saio da festa imediatamente"
                    ],
                    correct: 1,
                    feedback: "A melhor opção é dizer NÃO com firmeza. Verdadeiros amigos respeitam suas decisões!"
                },
                {
                    situation: "Você presencia um colega sendo intimidado por outros estudantes no pátio da escola. Qual sua atitude?",
                    options: [
                        "Ignoro para não me envolver",
                        "Filmo para postar nas redes sociais",
                        "Defendo o colega e busco ajuda de um adulto",
                        "Rio junto com os outros"
                    ],
                    correct: 2,
                    feedback: "Defender quem está sendo intimidado e buscar ajuda é a atitude correta e corajosa!"
                },
                {
                    situation: "Um amigo próximo te conta que está experimentando drogas e pede para você não contar para ninguém. O que você faz?",
                    options: [
                        "Prometo não contar e ignoro o problema",
                        "Converso com ele sobre os riscos e sugiro buscar ajuda",
                        "Conto imediatamente para os pais dele",
                        "Experimento junto para apoiá-lo"
                    ],
                    correct: 1,
                    feedback: "Conversar sobre os riscos e sugerir ajuda profissional é a melhor forma de apoiar um amigo!"
                }
            ];
            
            const randomScenario = scenarios[Math.floor(Math.random() * scenarios.length)];
            
            document.getElementById('scenario-situation').innerHTML = `<h3>Situação:</h3><p>${randomScenario.situation}</p>`;
            
            const optionsContainer = document.getElementById('scenario-options');
            optionsContainer.innerHTML = '';
            
            randomScenario.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'scenario-btn';
                button.textContent = option;
                button.onclick = () => answerScenario(index, randomScenario);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('scenario-feedback').style.display = 'none';
        }

        function answerScenario(answer, scenario) {
            const feedback = document.getElementById('scenario-feedback');
            const buttons = document.querySelectorAll('#scenario-options button');
            
            buttons.forEach(btn => btn.disabled = true);
            
            if (answer === scenario.correct) {
                feedback.innerHTML = `✅ Excelente escolha! ${scenario.feedback}`;
                feedback.style.background = '#d4edda';
                feedback.style.color = '#155724';
            } else {
                feedback.innerHTML = `❌ Essa não é a melhor opção. ${scenario.feedback}`;
                feedback.style.background = '#f8d7da';
                feedback.style.color = '#721c24';
            }
            
            feedback.style.display = 'block';
            
            setTimeout(() => {
                initScenarioGame();
            }, 3000);
        }

        // Outros jogos (implementação básica)
        function startWordGame() {
            alert('🔍 Caça-Palavras PROERD em desenvolvimento! Em breve você poderá encontrar palavras relacionadas à prevenção!');
        }

        function startPuzzleGame() {
            alert('🧩 Quebra-Cabeça do Leão PROERD em desenvolvimento! Em breve você poderá montar a imagem do nosso mascote!');
        }

        function startRhymeGame() {
            alert('🎵 Rimas do PROERD em desenvolvimento! Em breve você poderá completar rimas educativas sobre prevenção!');
        }

        // Sistema Administrativo
        function adminLogin() {
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            const admin = systemData.admins.find(a => a.email === email && a.password === password);
            
            if (admin) {
                isLoggedIn = true;
                showScreen('admin-panel');
                loadAdminData();
            } else {
                alert('❌ Email ou senha incorretos!');
            }
        }

        function adminLogout() {
            isLoggedIn = false;
            document.getElementById('admin-email').value = '';
            document.getElementById('admin-password').value = '';
            showScreen('admin-login');
        }

        function loadAdminData() {
            document.getElementById('about-editor').value = systemData.aboutContent;
            document.getElementById('battalion-editor').value = systemData.battalionContent;
            updateAdminList();
            updatePartnersAdminList();
        }

        // Funções de upload de imagem
        function handleBattalionLogoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    systemData.battalionLogo = e.target.result;
                    saveSystemData();
                    updateBattalionDisplay();
                    alert('✅ Logo do batalhão atualizado com sucesso!');
                };
                reader.readAsDataURL(file);
            }
        }

        function handlePartnerLogoUpload(event, partner) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    systemData.partnerLogos[partner] = e.target.result;
                    saveSystemData();
                    updatePartnersDisplay();
                    alert('✅ Logo do parceiro atualizado com sucesso!');
                };
                reader.readAsDataURL(file);
            }
        }

        let customPartnerLogo = '';
        function handleCustomPartnerLogoUpload(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    customPartnerLogo = e.target.result;
                };
                reader.readAsDataURL(file);
            }
        }

        function updateBattalion() {
            if (!isLoggedIn) return;
            
            systemData.battalionContent = document.getElementById('battalion-editor').value;
            saveSystemData();
            updateBattalionDisplay();
            alert('✅ Conteúdo sobre o 6º BPM atualizado com sucesso!');
        }

        function updateBattalionDisplay() {
            const logoDisplay = document.getElementById('battalion-logo-display');
            if (systemData.battalionLogo) {
                logoDisplay.innerHTML = `<img src="${systemData.battalionLogo}" alt="Logo 6º BPM" style="width: 100%; height: 100%; object-fit: contain; border-radius: 15px;">`;
            }
            
            if (systemData.battalionContent) {
                document.getElementById('battalion-content').innerHTML = systemData.battalionContent;
            }
        }

        function updateAbout() {
            if (!isLoggedIn) return;
            
            systemData.aboutContent = document.getElementById('about-editor').value;
            saveSystemData();
            updateAboutDisplay();
            alert('✅ Conteúdo sobre o PROERD atualizado com sucesso!');
        }

        function updateAboutDisplay() {
            if (systemData.aboutContent) {
                document.getElementById('about-content').innerHTML = systemData.aboutContent;
            }
        }

        function addAdmin() {
            if (!isLoggedIn) return;
            
            const email = document.getElementById('new-admin-email').value;
            const password = document.getElementById('new-admin-password').value;
            
            if (!email || !password) {
                alert('❌ Preencha todos os campos!');
                return;
            }
            
            if (systemData.admins.find(a => a.email === email)) {
                alert('❌ Este email já está cadastrado!');
                return;
            }
            
            systemData.admins.push({ email, password });
            saveSystemData();
            updateAdminList();
            
            document.getElementById('new-admin-email').value = '';
            document.getElementById('new-admin-password').value = '';
            
            alert('✅ Administrador adicionado com sucesso!');
        }

        function updateAdminList() {
            const list = document.getElementById('admin-list');
            list.innerHTML = '<h4>Administradores Cadastrados:</h4>';
            
            systemData.admins.forEach((admin, index) => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <p>${admin.email} 
                    ${index > 0 ? `<button class="btn-admin btn-danger" onclick="removeAdmin(${index})">🗑️ Remover</button>` : '<span style="color: #666;">(Principal)</span>'}
                    </p>
                `;
                list.appendChild(div);
            });
        }

        function removeAdmin(index) {
            if (index === 0) {
                alert('❌ Não é possível remover o administrador principal!');
                return;
            }
            
            if (confirm('Tem certeza que deseja remover este administrador?')) {
                systemData.admins.splice(index, 1);
                saveSystemData();
                updateAdminList();
                alert('✅ Administrador removido com sucesso!');
            }
        }

        function addCustomPartner() {
            if (!isLoggedIn) return;
            
            const name = document.getElementById('partner-name').value;
            const description = document.getElementById('partner-description').value;
            const website = document.getElementById('partner-website').value;
            
            if (!name || !description) {
                alert('❌ Preencha pelo menos nome e descrição!');
                return;
            }
            
            systemData.customPartners.push({ 
                name, 
                description, 
                website,
                logo: customPartnerLogo 
            });
            saveSystemData();
            updatePartnersDisplay();
            updatePartnersAdminList();
            
            document.getElementById('partner-name').value = '';
            document.getElementById('partner-description').value = '';
            document.getElementById('partner-website').value = '';
            document.getElementById('partner-logo-file').value = '';
            customPartnerLogo = '';
            
            alert('✅ Parceiro adicionado com sucesso!');
        }

        function updatePartnersDisplay() {
            const customList = document.getElementById('custom-partners-list');
            
            let customPartners = '';
            systemData.customPartners.forEach(partner => {
                customPartners += `
                    <div class="partner-card">
                        <div class="partner-logo">
                            ${partner.logo ? `<img src="${partner.logo}" alt="${partner.name}" class="partner-logo">` : '🤝'}
                        </div>
                        <div>
                            <h3>${partner.name}</h3>
                            <p>${partner.description}</p>
                            ${partner.website ? `<a href="${partner.website}" target="_blank" style="color: #4ECDC4; text-decoration: none;">🌐 ${partner.website.replace('https://', '').replace('http://', '')}</a>` : ''}
                        </div>
                    </div>
                `;
            });
            
            customList.innerHTML = customPartners;
            
            // Atualizar logos dos parceiros principais
            updateMainPartnersLogos();
        }

        function updateMainPartnersLogos() {
            const partners = document.querySelectorAll('#partners-list .partner-card');
            
            // LHG Mining
            if (systemData.partnerLogos.lhg && partners[0]) {
                const img = partners[0].querySelector('img');
                if (img) img.src = systemData.partnerLogos.lhg;
            }
            
            // Sicredi
            if (systemData.partnerLogos.sicredi && partners[1]) {
                const img = partners[1].querySelector('img');
                if (img) img.src = systemData.partnerLogos.sicredi;
            }
            
            // Prefeitura Corumbá
            if (systemData.partnerLogos.corumba && partners[2]) {
                const img = partners[2].querySelector('img');
                if (img) img.src = systemData.partnerLogos.corumba;
            }
            
            // Prefeitura Ladário
            if (systemData.partnerLogos.ladario && partners[3]) {
                const img = partners[3].querySelector('img');
                if (img) img.src = systemData.partnerLogos.ladario;
            }
        }

        function updatePartnersAdminList() {
            const list = document.getElementById('partners-admin-list');
            list.innerHTML = '<h4>Parceiros Personalizados Cadastrados:</h4>';
            
            if (systemData.customPartners.length === 0) {
                list.innerHTML += '<p style="color: #666; font-style: italic;">Nenhum parceiro personalizado cadastrado ainda.</p>';
                return;
            }
            
            systemData.customPartners.forEach((partner, index) => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <div class="partner-card">
                        <div class="partner-logo">${partner.logo ? `<img src="${partner.logo}" alt="${partner.name}" class="partner-logo">` : '🤝'}</div>
                        <div>
                            <h4>${partner.name}</h4>
                            <p>${partner.description}</p>
                            ${partner.website ? `<p><a href="${partner.website}" target="_blank">🌐 ${partner.website}</a></p>` : ''}
                            <button class="btn-admin btn-danger" onclick="removeCustomPartner(${index})">🗑️ Remover</button>
                        </div>
                    </div>
                `;
                list.appendChild(div);
            });
        }

        function removeCustomPartner(index) {
            if (confirm('Tem certeza que deseja remover este parceiro?')) {
                systemData.customPartners.splice(index, 1);
                saveSystemData();
                updatePartnersDisplay();
                updatePartnersAdminList();
                alert('✅ Parceiro removido com sucesso!');
            }
        }

        function updateLogos() {
            if (!isLoggedIn) return;
            
            systemData.logos.proerd = document.getElementById('proerd-logo').value;
            systemData.logos.pm = document.getElementById('pm-logo').value;
            saveSystemData();
            alert('✅ Logos atualizados com sucesso!');
        }

        // Controles por teclado
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('game-3d-screen').classList.contains('active')) {
                switch(e.key) {
                    case 'ArrowLeft':
                    case 'a':
                    case 'A':
                        startMove3D('left');
                        break;
                    case 'ArrowRight':
                    case 'd':
                    case 'D':
                        startMove3D('right');
                        break;
                    case 'ArrowUp':
                    case 'w':
                    case 'W':
                    case ' ':
                        jump3D();
                        break;
                    case 'ArrowDown':
                    case 's':
                    case 'S':
                        duck3D();
                        break;
                    case 'Enter':
                        specialAction();
                        break;
                    case 'p':
                    case 'P':
                        pauseGame3D();
                        break;
                }
                e.preventDefault();
            }
        });

        document.addEventListener('keyup', function(e) {
            if (document.getElementById('game-3d-screen').classList.contains('active')) {
                if (['ArrowLeft', 'ArrowRight', 'a', 'A', 'd', 'D'].includes(e.key)) {
                    stopMove3D();
                }
            }
        });

        // Enter para confirmar nome
        document.getElementById('player-name').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                setPlayerName();
            }
        });

        // Inicialização
        document.addEventListener('DOMContentLoaded', function() {
            loadSystemData();
        });

        // Prevenir zoom em dispositivos móveis
        document.addEventListener('touchstart', function(e) {
            if (e.touches.length > 1) {
                e.preventDefault();
            }
        }, { passive: false });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(e) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9756a66301495442',t:'MTc1NjI0NjEyOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
